import"./theme.BtrVqNFs.js";/* empty css               */import"./main.BgEkQAtb.js";import{M as e}from"./core.CmOfqZsh.js";import"./vendor.BvIaTjIT.js";import"./utils.BWOQ4zFL.js";import"./features.wYy8LG9Z.js";class t{constructor(){this.galleryItems=[],this.filteredItems=[],this.currentFilter="all",this.lightboxIndex=0,this.isLightboxOpen=!1,this.init()}init(){this.cacheElements(),this.setupEventListeners(),this.loadGalleryItems(),this.setupIntersectionObserver()}cacheElements(){this.galleryGrid=document.getElementById("galleryGrid"),this.filterBtns=document.querySelectorAll(".filter-btn"),this.loadMoreBtn=document.getElementById("loadMoreBtn"),this.lightbox=document.getElementById("lightbox"),this.lightboxImage=document.getElementById("lightboxImage"),this.lightboxTitle=document.getElementById("lightboxTitle"),this.lightboxDescription=document.getElementById("lightboxDescription"),this.lightboxClose=document.getElementById("lightboxClose"),this.lightboxPrev=document.getElementById("lightboxPrev"),this.lightboxNext=document.getElementById("lightboxNext")}setupEventListeners(){this.filterBtns.forEach(e=>{e.addEventListener("click",e=>{this.handleFilterClick(e.target.dataset.filter)})}),this.galleryGrid.addEventListener("click",e=>{const t=e.target.closest(".gallery-item");t&&this.openLightbox(t)}),this.lightboxClose.addEventListener("click",()=>this.closeLightbox()),this.lightboxPrev.addEventListener("click",()=>this.navigateLightbox(-1)),this.lightboxNext.addEventListener("click",()=>this.navigateLightbox(1)),document.addEventListener("keydown",e=>{if(this.isLightboxOpen)switch(e.key){case"Escape":this.closeLightbox();break;case"ArrowLeft":this.navigateLightbox(-1);break;case"ArrowRight":this.navigateLightbox(1)}}),this.lightbox.addEventListener("click",e=>{e.target===this.lightbox&&this.closeLightbox()}),this.loadMoreBtn&&this.loadMoreBtn.addEventListener("click",()=>this.loadMoreImages())}loadGalleryItems(){const e=document.querySelectorAll(".gallery-item");this.galleryItems=Array.from(e).map((e,t)=>({element:e,category:e.dataset.category,image:e.querySelector("img"),title:e.querySelector(".gallery-overlay h3")?.textContent||"",description:e.querySelector(".gallery-overlay p")?.textContent||"",index:t})),this.filteredItems=[...this.galleryItems],this.updateLightboxNavigation()}handleFilterClick(e){this.filterBtns.forEach(e=>e.classList.remove("active")),document.querySelector(`[data-filter="${e}"]`).classList.add("active"),this.currentFilter=e,this.filterGallery(e)}filterGallery(e){this.galleryItems.forEach((t,i)=>{"all"===e||t.category===e?(t.element.classList.remove("hidden"),t.element.classList.add("visible"),setTimeout(()=>{t.element.style.animationDelay=.1*i+"s"},50)):(t.element.classList.add("hidden"),t.element.classList.remove("visible"))}),this.filteredItems=this.galleryItems.filter(t=>"all"===e||t.category===e),this.updateLightboxNavigation()}openLightbox(e){const t=this.galleryItems.find(t=>t.element===e);t&&(this.lightboxIndex=this.filteredItems.findIndex(t=>t.element===e),this.updateLightboxContent(t),this.lightbox.classList.add("active"),this.isLightboxOpen=!0,document.body.style.overflow="hidden",this.lightboxClose.focus())}closeLightbox(){this.lightbox.classList.remove("active"),this.isLightboxOpen=!1,document.body.style.overflow=""}navigateLightbox(e){if(this.filteredItems.length<=1)return;this.lightboxIndex+=e,this.lightboxIndex>=this.filteredItems.length?this.lightboxIndex=0:this.lightboxIndex<0&&(this.lightboxIndex=this.filteredItems.length-1);const t=this.filteredItems[this.lightboxIndex];this.updateLightboxContent(t)}updateLightboxContent(e){this.lightboxImage.src=e.image.src,this.lightboxImage.alt=e.image.alt,this.lightboxTitle.textContent=e.title,this.lightboxDescription.textContent=e.description;const t=this.filteredItems.length>1;this.lightboxPrev.style.display=t?"flex":"none",this.lightboxNext.style.display=t?"flex":"none"}updateLightboxNavigation(){this.isLightboxOpen&&this.lightboxIndex>=this.filteredItems.length&&(this.lightboxIndex=0)}setupIntersectionObserver(){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-in"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"50px 0px"});this.galleryItems.forEach(t=>{e.observe(t.element)})}loadMoreImages(){this.loadMoreBtn.textContent="Loading...",this.loadMoreBtn.disabled=!0,setTimeout(()=>{this.loadMoreBtn.style.display="none"},1e3)}preloadImages(e){e.forEach(e=>{(new Image).src=e})}addGalleryItem(e){const t=this.createGalleryItemElement(e);this.galleryGrid.appendChild(t);const i={element:t,category:e.category,image:t.querySelector("img"),title:e.title,description:e.description,index:this.galleryItems.length};this.galleryItems.push(i),this.filterGallery(this.currentFilter)}createGalleryItemElement(e){const t=document.createElement("div");return t.className="gallery-item",t.dataset.category=e.category,t.innerHTML=`\n            <div class="gallery-image-container">\n                <img src="${e.imageSrc}" alt="${e.alt}" loading="lazy">\n                <div class="gallery-overlay">\n                    <h3>${e.title}</h3>\n                    <p>${e.description}</p>\n                </div>\n            </div>\n        `,t}setupLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const i=t.target;i.src=i.dataset.src,i.classList.remove("lazy"),e.unobserve(i)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}}document.addEventListener("DOMContentLoaded",()=>{window.galleryManager=new t,function(){const e=document.getElementById("offline-indicator");e&&e.remove();const t=document.getElementById("offline-notification");t&&t.remove();const i=document.getElementById("network-status");i&&i.remove();document.body.classList.remove("offline-mode")}();if(window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))document.body.classList.add("cursor-fallback"),document.body.classList.add("mobile");else try{window.cursorEffects=new e,setTimeout(()=>{const e=document.querySelector(".custom-cursor");e&&"none"!==getComputedStyle(e).display||document.body.classList.add("cursor-fallback")},1e3)}catch(i){document.body.classList.add("cursor-fallback")}!function(){const e=document.getElementById("hamburger"),t=document.querySelector(".nav-links");e&&t&&(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active")}),t.addEventListener("click",i=>{"A"===i.target.tagName&&(e.classList.remove("active"),t.classList.remove("active"))}),document.addEventListener("click",i=>{e.contains(i.target)||t.contains(i.target)||(e.classList.remove("active"),t.classList.remove("active"))}))}()});
